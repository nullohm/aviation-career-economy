<UserControl x:Class="Ace.App.Controls.MapLegendPanelControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="300" d:DesignWidth="180">
    <Border Background="#E6191919" CornerRadius="6" BorderBrush="#40FFFFFF" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.3" Color="Black"/>
        </Border.Effect>
        <StackPanel>
            <!-- Header with collapse toggle -->
            <Border Background="#30FFFFFF" CornerRadius="6,6,0,0" Cursor="Hand" MouseLeftButtonUp="Header_Click">
                <Grid Margin="10,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Legend" FontSize="11" FontWeight="SemiBold" Foreground="White" VerticalAlignment="Center"/>
                    <TextBlock x:Name="CollapseIcon" Grid.Column="1" Text="â–¼" FontSize="9" Foreground="#AAAAAA" VerticalAlignment="Center"/>
                </Grid>
            </Border>

            <!-- Legend Content -->
            <StackPanel x:Name="LegendContent" Margin="10,8,10,10">
                <!-- Route Legend Section -->
                <StackPanel x:Name="RouteLegendSection" Visibility="Collapsed">
                    <TextBlock Text="Route" FontSize="10" FontWeight="SemiBold" Foreground="#AAAAAA" Margin="0,0,0,4"/>
                    <StackPanel x:Name="RouteLegendItems"/>
                    <Border Height="1" Background="#30FFFFFF" Margin="0,6"/>
                </StackPanel>

                <!-- FBO Legend Section -->
                <StackPanel x:Name="FBOLegendSection" Visibility="Collapsed">
                    <TextBlock Text="FBOs" FontSize="10" FontWeight="SemiBold" Foreground="#AAAAAA" Margin="0,0,0,4"/>
                    <StackPanel x:Name="FBOLegendItems"/>
                    <Border Height="1" Background="#30FFFFFF" Margin="0,6"/>
                </StackPanel>

                <!-- Runway Legend Section -->
                <StackPanel x:Name="RunwayLegendSection" Visibility="Collapsed">
                    <TextBlock Text="Runway Length" FontSize="10" FontWeight="SemiBold" Foreground="#AAAAAA" Margin="0,0,0,4"/>
                    <StackPanel x:Name="RunwayLegendItems"/>
                </StackPanel>

                <!-- Terrain Legend Section -->
                <StackPanel x:Name="TerrainLegendSection" Visibility="Collapsed">
                    <TextBlock Text="Terrain Height" FontSize="10" FontWeight="SemiBold" Foreground="#AAAAAA" Margin="0,0,0,4"/>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#8B4513" Margin="0,0,6,0"/>
                        <TextBlock Text="6500+ ft" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#D2691E" Margin="0,0,6,0"/>
                        <TextBlock Text="3000-6500 ft" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#F4A460" Margin="0,0,6,0"/>
                        <TextBlock Text="1500-3000 ft" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#98D982" Margin="0,0,6,0"/>
                        <TextBlock Text="300-1500 ft" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#228B22" Margin="0,0,6,0"/>
                        <TextBlock Text="0-300 ft" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- Airspace Legend Section -->
                <StackPanel x:Name="AirspaceLegendSection" Visibility="Collapsed">
                    <Border Height="1" Background="#30FFFFFF" Margin="0,0,0,6"/>
                    <TextBlock Text="Airspace" FontSize="10" FontWeight="SemiBold" Foreground="#AAAAAA" Margin="0,0,0,4"/>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#DC2626" Opacity="0.6" Margin="0,0,6,0"/>
                        <TextBlock Text="Class A" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#2563EB" Opacity="0.6" Margin="0,0,6,0"/>
                        <TextBlock Text="Class B" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#7C3AED" Opacity="0.6" Margin="0,0,6,0"/>
                        <TextBlock Text="Class C" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#0891B2" Opacity="0.6" Margin="0,0,6,0"/>
                        <TextBlock Text="Class D" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#16A34A" Opacity="0.6" Margin="0,0,6,0"/>
                        <TextBlock Text="Class E" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#C026D3" Opacity="0.6" Margin="0,0,6,0"/>
                        <TextBlock Text="CTR/TMA" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#DC2626" Opacity="0.8" Margin="0,0,6,0"/>
                        <TextBlock Text="Prohibited" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#EF4444" Opacity="0.7" Margin="0,0,6,0"/>
                        <TextBlock Text="Restricted" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <Rectangle Width="16" Height="10" Fill="#F97316" Opacity="0.6" Margin="0,0,6,0"/>
                        <TextBlock Text="Danger" FontSize="9" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </Border>
</UserControl>
